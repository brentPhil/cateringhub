<!-- 
  Password Reset Email Template for Supabase
  
  Instructions:
  1. Go to Supabase Dashboard: https://supabase.com/dashboard/project/ghfnyprmnluutpcacdjp/auth/templates
  2. Select "Reset Password" template
  3. Replace the content with this HTML
  4. Click "Save"
  
  This template uses PKCE flow for better security.
  It includes both production and localhost development buttons.
-->

<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Reset Your Password - CateringHub</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        line-height: 1.6;
        color: #333;
        background-color: #f4f4f4;
        margin: 0;
        padding: 0;
      }
      .container {
        max-width: 600px;
        margin: 40px auto;
        background-color: #ffffff;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }
      .header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 40px 20px;
        text-align: center;
      }
      .header h1 {
        color: #ffffff;
        margin: 0;
        font-size: 28px;
        font-weight: 600;
      }
      .content {
        padding: 40px 30px;
      }
      .content p {
        margin: 0 0 20px 0;
        font-size: 16px;
        color: #555;
      }
      .button-container {
        text-align: center;
        margin: 30px 0;
      }
      .button {
        display: inline-block;
        padding: 14px 32px;
        background-color: #667eea;
        color: #ffffff !important;
        text-decoration: none;
        border-radius: 6px;
        font-weight: 600;
        font-size: 16px;
        transition: background-color 0.3s ease;
      }
      .button:hover {
        background-color: #5568d3;
      }
      .dev-warning {
        background-color: #fff3cd;
        border: 1px solid #ffc107;
        border-radius: 6px;
        padding: 20px;
        margin: 20px 0;
      }
      .dev-warning p {
        margin: 0 0 10px 0;
        font-size: 13px;
        color: #856404;
        font-weight: 600;
      }
      .dev-warning p:last-child {
        margin-bottom: 0;
        font-size: 12px;
        font-weight: normal;
      }
      .dev-button {
        display: inline-block;
        padding: 12px 24px;
        background-color: #6c757d;
        color: #ffffff !important;
        text-decoration: none;
        border-radius: 6px;
        font-weight: 600;
        font-size: 14px;
        margin-top: 15px;
      }
      .info-box {
        background-color: #e7f3ff;
        border-left: 4px solid #2196F3;
        padding: 15px;
        margin: 20px 0;
        border-radius: 4px;
      }
      .info-box p {
        margin: 0;
        font-size: 14px;
        color: #0c5460;
      }
      .footer {
        background-color: #f8f9fa;
        padding: 30px;
        text-align: center;
        border-top: 1px solid #e9ecef;
      }
      .footer p {
        margin: 0 0 10px 0;
        font-size: 14px;
        color: #6c757d;
      }
      .footer a {
        color: #667eea;
        text-decoration: none;
      }
      .footer a:hover {
        text-decoration: underline;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>üîê Reset Your Password</h1>
      </div>
      
      <div class="content">
        <p>Hello,</p>
        
        <p>
          We received a request to reset the password for your CateringHub account 
          associated with <strong>{{ .Email }}</strong>.
        </p>
        
        <p>
          Click the button below to reset your password. This link will expire in 1 hour 
          for security reasons.
        </p>
        
        <div class="button-container">
          <a href="{{ .SiteURL }}/auth/reset-password?token_hash={{ .TokenHash }}&type=recovery&next=/reset-password" class="button">
            Reset Password
          </a>
        </div>
        
        <!-- Development-only localhost button -->
        {{ if or (not .SiteURL) (contains .SiteURL "localhost") }}
        <div class="dev-warning">
          <p>üîß Development Testing Only</p>
          <p>
            Since the app is not deployed yet, use this localhost link for testing:
          </p>
          <div style="text-align: center;">
            <a href="http://localhost:3000/auth/reset-password?token_hash={{ .TokenHash }}&type=recovery&next=/reset-password" class="dev-button">
              Reset Password (Local Dev)
            </a>
          </div>
        </div>
        {{ end }}
        
        <div class="info-box">
          <p>
            <strong>Security tip:</strong> If you didn't request this password reset, 
            you can safely ignore this email. Your password will remain unchanged.
          </p>
        </div>
        
        <p style="margin-top: 30px; font-size: 14px; color: #6c757d;">
          If the button doesn't work, copy and paste this link into your browser:
        </p>
        <p style="font-size: 12px; color: #6c757d; word-break: break-all;">
          {{ .SiteURL }}/auth/reset-password?token_hash={{ .TokenHash }}&type=recovery&next=/reset-password
        </p>
      </div>
      
      <div class="footer">
        <p>
          This password reset link will expire in <strong>1 hour</strong>.
        </p>
        <p>
          Need help? Contact us at 
          <a href="mailto:support@cateringhubph.com">support@cateringhubph.com</a>
        </p>
        <p style="margin-top: 20px; font-size: 12px;">
          ¬© 2025 CateringHub. All rights reserved.
        </p>
      </div>
    </div>
  </body>
</html>

